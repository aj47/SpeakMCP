{
  "project": "speakmcp-cli",
  "description": "Rust CLI for SpeakMCP - complete feature parity with Electron desktop app",
  "userStories": [
    {
      "id": "0.1.1",
      "phase": 0,
      "title": "Create commands/ module directory",
      "type": "RUST",
      "description": "Create the commands directory structure for organizing subcommand handlers",
      "verificationCommand": "test -d apps/cli/src/commands",
      "passes": true,
      "dependencies": []
    },
    {
      "id": "0.1.2",
      "phase": 0,
      "title": "Create commands/mod.rs with public exports",
      "type": "RUST",
      "description": "Create mod.rs that will export all command modules",
      "verificationCommand": "test -f apps/cli/src/commands/mod.rs && grep -q 'pub mod' apps/cli/src/commands/mod.rs",
      "passes": true,
      "dependencies": ["0.1.1"]
    },
    {
      "id": "0.1.3",
      "phase": 0,
      "title": "Create types.rs for shared API response types",
      "type": "RUST",
      "description": "Create a types module for shared structs used across commands",
      "verificationCommand": "test -f apps/cli/src/types.rs && grep -q 'use serde' apps/cli/src/types.rs",
      "passes": true,
      "dependencies": []
    },
    {
      "id": "0.1.4",
      "phase": 0,
      "title": "Add types module to main.rs",
      "type": "RUST",
      "description": "Import the types module in main.rs",
      "verificationCommand": "grep -q 'mod types' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.1.3"]
    },
    {
      "id": "0.1.5",
      "phase": 0,
      "title": "Add commands module to main.rs",
      "type": "RUST",
      "description": "Import the commands module in main.rs",
      "verificationCommand": "grep -q 'mod commands' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "0.2.1",
      "phase": 0,
      "title": "Add generic GET method to ApiClient",
      "type": "RUST",
      "description": "Add a generic get<T>() method to ApiClient for typed GET requests",
      "verificationCommand": "grep -q 'pub async fn get<T>' apps/cli/src/api.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": []
    },
    {
      "id": "0.2.2",
      "phase": 0,
      "title": "Add generic POST method to ApiClient",
      "type": "RUST",
      "description": "Add a generic post<T, R>() method to ApiClient for typed POST requests",
      "verificationCommand": "grep -q 'pub async fn post<' apps/cli/src/api.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": []
    },
    {
      "id": "0.2.3",
      "phase": 0,
      "title": "Add ApiError enum for typed errors",
      "type": "RUST",
      "description": "Create an ApiError enum with variants for 401, 404, 500, and network errors",
      "verificationCommand": "grep -q 'pub enum ApiError' apps/cli/src/api.rs && grep -q 'Unauthorized' apps/cli/src/api.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": []
    },
    {
      "id": "0.3.1",
      "phase": 0,
      "title": "Add --json global flag to CLI",
      "type": "RUST",
      "description": "Add a --json flag to the CLI struct for machine-readable output",
      "verificationCommand": "grep -q 'json.*bool' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": []
    },
    {
      "id": "0.3.2",
      "phase": 0,
      "title": "Create output.rs module for formatting",
      "type": "RUST",
      "description": "Create output.rs with helper functions for table and JSON output",
      "verificationCommand": "test -f apps/cli/src/output.rs && grep -q 'pub fn print_' apps/cli/src/output.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": []
    },
    {
      "id": "0.3.3",
      "phase": 0,
      "title": "Add output module to main.rs",
      "type": "RUST",
      "description": "Import the output module in main.rs",
      "verificationCommand": "grep -q 'mod output' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.3.2"]
    },
    {
      "id": "0.4.1",
      "phase": 0,
      "title": "Verify project builds and passes clippy",
      "type": "TEST",
      "description": "Ensure all Phase 0 changes compile and pass linting",
      "verificationCommand": "cargo build -p speakmcp-cli && cargo clippy -p speakmcp-cli -- -D warnings",
      "passes": true,
      "dependencies": ["0.1.5", "0.2.3", "0.3.3"]
    },
    {
      "id": "1.1.1",
      "phase": 1,
      "title": "Add Servers subcommand enum variant",
      "type": "RUST",
      "description": "Add Servers variant to Commands enum with list/enable/disable subcommands",
      "verificationCommand": "grep -q 'Servers' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "1.1.2",
      "phase": 1,
      "title": "Create commands/servers.rs module",
      "type": "RUST",
      "description": "Create the servers command module file",
      "verificationCommand": "test -f apps/cli/src/commands/servers.rs && grep -q 'pub async fn' apps/cli/src/commands/servers.rs",
      "passes": true,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "1.1.3",
      "phase": 1,
      "title": "Export servers module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod servers;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod servers' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["1.1.2"]
    },
    {
      "id": "1.1.4",
      "phase": 1,
      "title": "Define McpServer struct in types.rs",
      "type": "RUST",
      "description": "Add McpServer struct matching GET /v1/mcp/servers response",
      "verificationCommand": "grep -q 'pub struct McpServer' apps/cli/src/types.rs && grep -q 'connected' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "1.1.5",
      "phase": 1,
      "title": "Implement list_servers() function",
      "type": "RUST",
      "description": "Implement the function to call GET /v1/mcp/servers and display results",
      "verificationCommand": "grep -q 'pub async fn list_servers' apps/cli/src/commands/servers.rs && grep -q 'mcp/servers' apps/cli/src/commands/servers.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["1.1.3", "1.1.4", "0.2.1"]
    },
    {
      "id": "1.1.6",
      "phase": 1,
      "title": "Wire up 'servers list' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Servers::List that calls list_servers()",
      "verificationCommand": "grep -qE 'Servers.*List|ServersCommand.*List' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["1.1.1", "1.1.5"]
    },
    {
      "id": "1.2.1",
      "phase": 1,
      "title": "Implement toggle_server() function",
      "type": "RUST",
      "description": "Implement function to call POST /v1/mcp/servers/:name/toggle",
      "verificationCommand": "grep -q 'pub async fn toggle_server' apps/cli/src/commands/servers.rs && grep -q '/toggle' apps/cli/src/commands/servers.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["1.1.3", "0.2.2"]
    },
    {
      "id": "1.2.2",
      "phase": 1,
      "title": "Wire up 'servers enable' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Servers::Enable that calls toggle_server(name, true)",
      "verificationCommand": "grep -qE 'Enable.*name|enable.*toggle_server' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["1.1.1", "1.2.1"]
    },
    {
      "id": "1.2.3",
      "phase": 1,
      "title": "Wire up 'servers disable' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Servers::Disable that calls toggle_server(name, false)",
      "verificationCommand": "grep -qE 'Disable.*name|disable.*toggle_server' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["1.1.1", "1.2.1"]
    },
    {
      "id": "1.3.1",
      "phase": 1,
      "title": "Test: servers commands build successfully",
      "type": "TEST",
      "description": "Verify all Phase 1 code compiles and passes clippy",
      "verificationCommand": "cargo build -p speakmcp-cli && cargo clippy -p speakmcp-cli -- -D warnings",
      "passes": true,
      "dependencies": ["1.1.6", "1.2.2", "1.2.3"]
    },
    {
      "id": "2.1.1",
      "phase": 2,
      "title": "Add Profiles subcommand enum variant",
      "type": "RUST",
      "description": "Add Profiles variant to Commands enum with list/current/switch subcommands",
      "verificationCommand": "grep -q 'Profiles' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "2.1.2",
      "phase": 2,
      "title": "Create commands/profiles.rs module",
      "type": "RUST",
      "description": "Create the profiles command module file",
      "verificationCommand": "test -f apps/cli/src/commands/profiles.rs && grep -q 'pub async fn' apps/cli/src/commands/profiles.rs",
      "passes": true,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "2.1.3",
      "phase": 2,
      "title": "Export profiles module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod profiles;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod profiles' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["2.1.2"]
    },
    {
      "id": "2.1.4",
      "phase": 2,
      "title": "Define Profile struct in types.rs",
      "type": "RUST",
      "description": "Add Profile struct matching GET /v1/profiles response",
      "verificationCommand": "grep -q 'pub struct Profile' apps/cli/src/types.rs && grep -q 'is_default' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "2.1.5",
      "phase": 2,
      "title": "Implement list_profiles() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/profiles and display results",
      "verificationCommand": "grep -q 'pub async fn list_profiles' apps/cli/src/commands/profiles.rs && grep -q '/profiles' apps/cli/src/commands/profiles.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["2.1.3", "2.1.4", "0.2.1"]
    },
    {
      "id": "2.1.6",
      "phase": 2,
      "title": "Wire up 'profiles list' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Profiles::List that calls list_profiles()",
      "verificationCommand": "grep -qE 'Profiles.*List|ProfilesCommand.*List' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["2.1.1", "2.1.5"]
    },
    {
      "id": "2.2.1",
      "phase": 2,
      "title": "Implement get_current_profile() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/profiles/current",
      "verificationCommand": "grep -q 'pub async fn get_current_profile' apps/cli/src/commands/profiles.rs && grep -q 'profiles/current' apps/cli/src/commands/profiles.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["2.1.3", "0.2.1"]
    },
    {
      "id": "2.2.2",
      "phase": 2,
      "title": "Wire up 'profiles current' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Profiles::Current that calls get_current_profile()",
      "verificationCommand": "grep -qE 'Current.*get_current|profiles.*current' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["2.1.1", "2.2.1"]
    },
    {
      "id": "2.3.1",
      "phase": 2,
      "title": "Implement switch_profile() function",
      "type": "RUST",
      "description": "Implement function to call POST /v1/profiles/current",
      "verificationCommand": "grep -q 'pub async fn switch_profile' apps/cli/src/commands/profiles.rs && grep -q 'profileId' apps/cli/src/commands/profiles.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["2.1.3", "0.2.2"]
    },
    {
      "id": "2.3.2",
      "phase": 2,
      "title": "Wire up 'profiles switch' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Profiles::Switch that calls switch_profile()",
      "verificationCommand": "grep -qE 'Switch.*name|switch.*profile' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["2.1.1", "2.3.1"]
    },
    {
      "id": "2.4.1",
      "phase": 2,
      "title": "Test: profiles commands build successfully",
      "type": "TEST",
      "description": "Verify all Phase 2 code compiles and passes clippy",
      "verificationCommand": "cargo build -p speakmcp-cli && cargo clippy -p speakmcp-cli -- -D warnings",
      "passes": true,
      "dependencies": ["2.1.6", "2.2.2", "2.3.2"]
    },
    {
      "id": "3.1.1",
      "phase": 3,
      "title": "Add Tools subcommand enum variant",
      "type": "RUST",
      "description": "Add Tools variant to Commands enum with list subcommand",
      "verificationCommand": "grep -q 'Tools' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "3.1.2",
      "phase": 3,
      "title": "Create commands/tools.rs module",
      "type": "RUST",
      "description": "Create the tools command module file",
      "verificationCommand": "test -f apps/cli/src/commands/tools.rs && grep -q 'pub async fn' apps/cli/src/commands/tools.rs",
      "passes": true,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "3.1.3",
      "phase": 3,
      "title": "Export tools module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod tools;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod tools' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["3.1.2"]
    },
    {
      "id": "3.1.4",
      "phase": 3,
      "title": "Define Tool struct in types.rs",
      "type": "RUST",
      "description": "Add Tool struct for tool listing",
      "verificationCommand": "grep -q 'pub struct Tool' apps/cli/src/types.rs && grep -q 'description' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "3.1.5",
      "phase": 3,
      "title": "Implement list_tools() function",
      "type": "RUST",
      "description": "Implement function to call POST /mcp/tools/list",
      "verificationCommand": "grep -q 'pub async fn list_tools' apps/cli/src/commands/tools.rs && grep -q 'mcp/tools/list' apps/cli/src/commands/tools.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["3.1.3", "3.1.4", "0.2.2"]
    },
    {
      "id": "3.1.6",
      "phase": 3,
      "title": "Wire up 'tools list' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Tools::List that calls list_tools()",
      "verificationCommand": "grep -qE 'Tools.*List|ToolsCommand.*List' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["3.1.1", "3.1.5"]
    },
    {
      "id": "3.2.1",
      "phase": 3,
      "title": "Implement call_tool() function",
      "type": "RUST",
      "description": "Implement function to call POST /mcp/tools/call",
      "verificationCommand": "grep -q 'pub async fn call_tool' apps/cli/src/commands/tools.rs && grep -q 'mcp/tools/call' apps/cli/src/commands/tools.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["3.1.3", "0.2.2"]
    },
    {
      "id": "3.2.2",
      "phase": 3,
      "title": "Wire up 'tools call' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Tools::Call that calls call_tool()",
      "verificationCommand": "grep -qE 'Call.*name|call.*tool' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["3.1.1", "3.2.1"]
    },
    {
      "id": "3.3.1",
      "phase": 3,
      "title": "Test: tools commands build successfully",
      "type": "TEST",
      "description": "Verify all Phase 3 code compiles and passes clippy",
      "verificationCommand": "cargo build -p speakmcp-cli && cargo clippy -p speakmcp-cli -- -D warnings",
      "passes": true,
      "dependencies": ["3.1.6", "3.2.2"]
    },
    {
      "id": "4.1.1",
      "phase": 4,
      "title": "Add History subcommand enum variant",
      "type": "RUST",
      "description": "Add History variant to Commands enum with list/show subcommands",
      "verificationCommand": "grep -q 'History' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "4.1.2",
      "phase": 4,
      "title": "Create commands/history.rs module",
      "type": "RUST",
      "description": "Create the history command module file",
      "verificationCommand": "test -f apps/cli/src/commands/history.rs && grep -q 'pub async fn' apps/cli/src/commands/history.rs",
      "passes": true,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "4.1.3",
      "phase": 4,
      "title": "Export history module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod history;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod history' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.2"]
    },
    {
      "id": "4.1.4",
      "phase": 4,
      "title": "Define Conversation struct in types.rs",
      "type": "RUST",
      "description": "Add Conversation and ConversationSummary structs",
      "verificationCommand": "grep -q 'pub struct Conversation' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "4.1.5",
      "phase": 4,
      "title": "Implement list_conversations() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/conversations",
      "verificationCommand": "grep -q 'pub async fn list_conversations' apps/cli/src/commands/history.rs && grep -q '/conversations' apps/cli/src/commands/history.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.3", "4.1.4", "0.2.1"]
    },
    {
      "id": "4.1.6",
      "phase": 4,
      "title": "Wire up 'history list' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for History::List that calls list_conversations()",
      "verificationCommand": "grep -qE 'History.*List|HistoryCommand.*List' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.1", "4.1.5"]
    },
    {
      "id": "4.2.1",
      "phase": 4,
      "title": "Implement show_conversation() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/conversations/:id",
      "verificationCommand": "grep -q 'pub async fn show_conversation' apps/cli/src/commands/history.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.3", "4.1.4", "0.2.1"]
    },
    {
      "id": "4.2.2",
      "phase": 4,
      "title": "Wire up 'history show' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for History::Show that calls show_conversation()",
      "verificationCommand": "grep -qE 'Show.*id|history.*show' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.1", "4.2.1"]
    },
    {
      "id": "4.3.1",
      "phase": 4,
      "title": "Implement delete_conversation() function",
      "type": "RUST",
      "description": "Implement function to call DELETE /v1/conversations/:id",
      "verificationCommand": "grep -q 'pub async fn delete_conversation' apps/cli/src/commands/history.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.3", "0.2.1"]
    },
    {
      "id": "4.3.2",
      "phase": 4,
      "title": "Wire up 'history delete' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for History::Delete that calls delete_conversation()",
      "verificationCommand": "grep -qE 'Delete.*id|history.*delete' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.1", "4.3.1"]
    },
    {
      "id": "4.4.1",
      "phase": 4,
      "title": "Implement export_conversation() function",
      "type": "RUST",
      "description": "Implement function to export conversation to JSON file",
      "verificationCommand": "grep -q 'pub async fn export_conversation' apps/cli/src/commands/history.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.2.1"]
    },
    {
      "id": "4.4.2",
      "phase": 4,
      "title": "Wire up 'history export' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for History::Export that calls export_conversation()",
      "verificationCommand": "grep -qE 'Export.*id|history.*export' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.1", "4.4.1"]
    },
    {
      "id": "4.5.1",
      "phase": 4,
      "title": "Implement continue_conversation() function",
      "type": "RUST",
      "description": "Implement function to load and continue a past conversation in REPL",
      "verificationCommand": "grep -q 'pub async fn continue_conversation' apps/cli/src/commands/history.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.2.1"]
    },
    {
      "id": "4.5.2",
      "phase": 4,
      "title": "Wire up 'history continue' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for History::Continue that starts REPL with conversation context",
      "verificationCommand": "grep -qE 'Continue.*id|history.*continue' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["4.1.1", "4.5.1"]
    },
    {
      "id": "4.6.1",
      "phase": 4,
      "title": "Test: history commands build successfully",
      "type": "TEST",
      "description": "Verify all Phase 4 code compiles and passes clippy",
      "verificationCommand": "cargo build --manifest-path apps/cli/Cargo.toml && cargo clippy --manifest-path apps/cli/Cargo.toml -- -D warnings",
      "passes": true,
      "dependencies": ["4.1.6", "4.2.2", "4.3.2", "4.4.2", "4.5.2"]
    },
    {
      "id": "5.1.1",
      "phase": 5,
      "title": "Add Settings subcommand enum variant",
      "type": "RUST",
      "description": "Add Settings variant to Commands enum with show/set subcommands",
      "verificationCommand": "grep -q 'Settings' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "5.1.2",
      "phase": 5,
      "title": "Create commands/settings.rs module",
      "type": "RUST",
      "description": "Create the settings command module file",
      "verificationCommand": "test -f apps/cli/src/commands/settings.rs && grep -q 'pub async fn' apps/cli/src/commands/settings.rs",
      "passes": true,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "5.1.3",
      "phase": 5,
      "title": "Export settings module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod settings;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod settings' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["5.1.2"]
    },
    {
      "id": "5.1.4",
      "phase": 5,
      "title": "Define Settings struct in types.rs",
      "type": "RUST",
      "description": "Add Settings struct matching GET /v1/settings response",
      "verificationCommand": "grep -q 'pub struct Settings' apps/cli/src/types.rs && grep -q 'mcp_tools_provider' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "5.1.5",
      "phase": 5,
      "title": "Implement show_settings() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/settings",
      "verificationCommand": "grep -q 'pub async fn show_settings' apps/cli/src/commands/settings.rs && grep -q '/settings' apps/cli/src/commands/settings.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["5.1.3", "5.1.4", "0.2.1"]
    },
    {
      "id": "5.1.6",
      "phase": 5,
      "title": "Wire up 'settings show' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Settings::Show that calls show_settings()",
      "verificationCommand": "grep -qE 'Settings.*Show|SettingsCommand.*Show' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["5.1.1", "5.1.5"]
    },
    {
      "id": "5.2.1",
      "phase": 5,
      "title": "Implement update_setting() function",
      "type": "RUST",
      "description": "Implement function to call POST /v1/settings with key-value update",
      "verificationCommand": "grep -q 'pub async fn update_setting' apps/cli/src/commands/settings.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["5.1.3", "0.2.2"]
    },
    {
      "id": "5.2.2",
      "phase": 5,
      "title": "Wire up 'settings set' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Settings::Set that calls update_setting(key, value)",
      "verificationCommand": "grep -qE 'Set.*key.*value|settings.*set' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["5.1.1", "5.2.1"]
    },
    {
      "id": "5.3.1",
      "phase": 5,
      "title": "Test: settings commands build successfully",
      "type": "TEST",
      "description": "Verify all Phase 5 code compiles and passes clippy",
      "verificationCommand": "cargo build --manifest-path apps/cli/Cargo.toml && cargo clippy --manifest-path apps/cli/Cargo.toml -- -D warnings",
      "passes": true,
      "dependencies": ["5.1.6", "5.2.2"]
    },
    {
      "id": "6.1.1",
      "phase": 6,
      "title": "Add Stop subcommand enum variant",
      "type": "RUST",
      "description": "Add Stop variant to Commands enum for emergency stop",
      "verificationCommand": "grep -q 'Stop' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "6.1.2",
      "phase": 6,
      "title": "Create commands/stop.rs module",
      "type": "RUST",
      "description": "Create the stop command module file",
      "verificationCommand": "test -f apps/cli/src/commands/stop.rs && grep -q 'pub async fn' apps/cli/src/commands/stop.rs",
      "passes": true,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "6.1.3",
      "phase": 6,
      "title": "Export stop module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod stop;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod stop' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": true,
      "dependencies": ["6.1.2"]
    },
    {
      "id": "6.1.4",
      "phase": 6,
      "title": "Implement emergency_stop() function",
      "type": "RUST",
      "description": "Implement function to call POST /v1/emergency-stop",
      "verificationCommand": "grep -q 'pub async fn emergency_stop' apps/cli/src/commands/stop.rs && grep -q 'emergency-stop' apps/cli/src/commands/stop.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["6.1.3", "0.2.2"]
    },
    {
      "id": "6.1.5",
      "phase": 6,
      "title": "Wire up 'stop' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Commands::Stop that calls emergency_stop()",
      "verificationCommand": "grep -qE 'Stop.*=>|Commands::Stop' apps/cli/src/main.rs && grep -q 'emergency_stop' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["6.1.1", "6.1.4"]
    },
    {
      "id": "6.2.1",
      "phase": 6,
      "title": "Test: stop command builds successfully",
      "type": "TEST",
      "description": "Verify Phase 6 code compiles and passes clippy",
      "verificationCommand": "cargo build -p speakmcp-cli && cargo clippy -p speakmcp-cli -- -D warnings",
      "passes": false,
      "dependencies": ["6.1.5"]
    },
    {
      "id": "7.1.1",
      "phase": 7,
      "title": "Add reqwest-eventsource crate to Cargo.toml",
      "type": "RUST",
      "description": "Add SSE client crate for streaming responses",
      "verificationCommand": "grep -q 'eventsource' apps/cli/Cargo.toml && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "7.1.2",
      "phase": 7,
      "title": "Create sse.rs module for SSE handling",
      "type": "RUST",
      "description": "Create module with SSE event parsing and handling",
      "verificationCommand": "test -f apps/cli/src/sse.rs && grep -q 'pub struct' apps/cli/src/sse.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["7.1.1"]
    },
    {
      "id": "7.1.3",
      "phase": 7,
      "title": "Add sse module to main.rs",
      "type": "RUST",
      "description": "Import the sse module in main.rs",
      "verificationCommand": "grep -q 'mod sse' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["7.1.2"]
    },
    {
      "id": "7.2.1",
      "phase": 7,
      "title": "Add --stream flag to send command",
      "type": "RUST",
      "description": "Add --stream flag to Commands::Send for streaming responses",
      "verificationCommand": "grep -qE 'stream.*bool|--stream' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["7.1.3"]
    },
    {
      "id": "7.2.2",
      "phase": 7,
      "title": "Implement streaming chat in api.rs",
      "type": "RUST",
      "description": "Add chat_streaming() method to ApiClient that handles SSE",
      "verificationCommand": "grep -q 'pub async fn chat_streaming' apps/cli/src/api.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["7.1.3"]
    },
    {
      "id": "7.2.3",
      "phase": 7,
      "title": "Wire up streaming in send_message()",
      "type": "RUST",
      "description": "Update send_message to use streaming when --stream flag is set",
      "verificationCommand": "grep -qE 'stream.*chat_streaming|if.*stream' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["7.2.1", "7.2.2"]
    },
    {
      "id": "7.3.1",
      "phase": 7,
      "title": "Test: streaming commands build successfully",
      "type": "TEST",
      "description": "Verify Phase 7 code compiles and passes clippy",
      "verificationCommand": "cargo build -p speakmcp-cli && cargo clippy -p speakmcp-cli -- -D warnings",
      "passes": false,
      "dependencies": ["7.2.3"]
    },
    {
      "id": "8.1.1",
      "phase": 8,
      "title": "Add Completions subcommand enum variant",
      "type": "RUST",
      "description": "Add Completions variant to Commands enum for shell completions",
      "verificationCommand": "grep -q 'Completions' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "8.1.2",
      "phase": 8,
      "title": "Add clap_complete crate to Cargo.toml",
      "type": "RUST",
      "description": "Add clap_complete for shell completion generation",
      "verificationCommand": "grep -q 'clap_complete' apps/cli/Cargo.toml && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": []
    },
    {
      "id": "8.1.3",
      "phase": 8,
      "title": "Implement generate_completions() function",
      "type": "RUST",
      "description": "Implement function to generate shell completions for bash/zsh/fish",
      "verificationCommand": "grep -q 'clap_complete' apps/cli/src/main.rs && grep -qE 'bash|zsh|fish' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["8.1.1", "8.1.2"]
    },
    {
      "id": "8.2.1",
      "phase": 8,
      "title": "Test: completions command builds successfully",
      "type": "TEST",
      "description": "Verify Phase 8 code compiles and passes clippy",
      "verificationCommand": "cargo build --manifest-path apps/cli/Cargo.toml && cargo clippy --manifest-path apps/cli/Cargo.toml -- -D warnings",
      "passes": false,
      "dependencies": ["8.1.3"]
    },
    {
      "id": "10.1.1",
      "phase": 10,
      "title": "Add Memories subcommand enum variant",
      "type": "RUST",
      "description": "Add Memories variant to Commands enum with list/show/delete subcommands",
      "verificationCommand": "grep -q 'Memories' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "10.1.2",
      "phase": 10,
      "title": "Create commands/memories.rs module",
      "type": "RUST",
      "description": "Create the memories command module file",
      "verificationCommand": "test -f apps/cli/src/commands/memories.rs && grep -q 'pub async fn' apps/cli/src/commands/memories.rs",
      "passes": false,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "10.1.3",
      "phase": 10,
      "title": "Export memories module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod memories;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod memories' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["10.1.2"]
    },
    {
      "id": "10.1.4",
      "phase": 10,
      "title": "Define Memory struct in types.rs",
      "type": "RUST",
      "description": "Add Memory struct with id, content, importance, tags, createdAt, profileId",
      "verificationCommand": "grep -q 'pub struct Memory' apps/cli/src/types.rs && grep -q 'importance' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "10.1.5",
      "phase": 10,
      "title": "Implement list_memories() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/memories",
      "verificationCommand": "grep -q 'pub async fn list_memories' apps/cli/src/commands/memories.rs && grep -q '/memories' apps/cli/src/commands/memories.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["10.1.3", "10.1.4", "0.2.1"]
    },
    {
      "id": "10.1.6",
      "phase": 10,
      "title": "Wire up 'memories list' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Memories::List that calls list_memories()",
      "verificationCommand": "grep -qE 'Memories.*List|MemoriesCommand.*List' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["10.1.1", "10.1.5"]
    },
    {
      "id": "10.2.1",
      "phase": 10,
      "title": "Implement delete_memory() function",
      "type": "RUST",
      "description": "Implement function to call DELETE /v1/memories/:id",
      "verificationCommand": "grep -q 'pub async fn delete_memory' apps/cli/src/commands/memories.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["10.1.3", "0.2.1"]
    },
    {
      "id": "10.2.2",
      "phase": 10,
      "title": "Wire up 'memories delete' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Memories::Delete that calls delete_memory()",
      "verificationCommand": "grep -qE 'Memories.*Delete|memories.*delete' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["10.1.1", "10.2.1"]
    },
    {
      "id": "10.3.1",
      "phase": 10,
      "title": "Test: memories commands build successfully",
      "type": "TEST",
      "description": "Verify Phase 10 code compiles and passes clippy",
      "verificationCommand": "cargo build --manifest-path apps/cli/Cargo.toml && cargo clippy --manifest-path apps/cli/Cargo.toml -- -D warnings",
      "passes": false,
      "dependencies": ["10.1.6", "10.2.2"]
    },
    {
      "id": "11.1.1",
      "phase": 11,
      "title": "Add Presets subcommand enum variant",
      "type": "RUST",
      "description": "Add Presets variant to Commands enum with list/current/switch subcommands",
      "verificationCommand": "grep -q 'Presets' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "11.1.2",
      "phase": 11,
      "title": "Create commands/presets.rs module",
      "type": "RUST",
      "description": "Create the presets command module file for model preset management",
      "verificationCommand": "test -f apps/cli/src/commands/presets.rs && grep -q 'pub async fn' apps/cli/src/commands/presets.rs",
      "passes": false,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "11.1.3",
      "phase": 11,
      "title": "Export presets module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod presets;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod presets' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["11.1.2"]
    },
    {
      "id": "11.1.4",
      "phase": 11,
      "title": "Define ModelPreset struct in types.rs",
      "type": "RUST",
      "description": "Add ModelPreset struct with id, name, baseUrl, isBuiltIn fields",
      "verificationCommand": "grep -q 'pub struct ModelPreset' apps/cli/src/types.rs && grep -q 'isBuiltIn' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "11.1.5",
      "phase": 11,
      "title": "Implement list_presets() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/presets",
      "verificationCommand": "grep -q 'pub async fn list_presets' apps/cli/src/commands/presets.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["11.1.3", "11.1.4", "0.2.1"]
    },
    {
      "id": "11.1.6",
      "phase": 11,
      "title": "Wire up 'presets list' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Presets::List that calls list_presets()",
      "verificationCommand": "grep -qE 'Presets.*List|PresetsCommand.*List' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["11.1.1", "11.1.5"]
    },
    {
      "id": "11.2.1",
      "phase": 11,
      "title": "Implement switch_preset() function",
      "type": "RUST",
      "description": "Implement function to call POST /v1/presets/current",
      "verificationCommand": "grep -q 'pub async fn switch_preset' apps/cli/src/commands/presets.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["11.1.3", "0.2.2"]
    },
    {
      "id": "11.2.2",
      "phase": 11,
      "title": "Wire up 'presets switch' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Presets::Switch that calls switch_preset()",
      "verificationCommand": "grep -qE 'Presets.*Switch|presets.*switch' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["11.1.1", "11.2.1"]
    },
    {
      "id": "11.3.1",
      "phase": 11,
      "title": "Test: presets commands build successfully",
      "type": "TEST",
      "description": "Verify Phase 11 code compiles and passes clippy",
      "verificationCommand": "cargo build --manifest-path apps/cli/Cargo.toml && cargo clippy --manifest-path apps/cli/Cargo.toml -- -D warnings",
      "passes": false,
      "dependencies": ["11.1.6", "11.2.2"]
    },
    {
      "id": "12.1.1",
      "phase": 12,
      "title": "Add Skills subcommand enum variant",
      "type": "RUST",
      "description": "Add Skills variant to Commands enum with list subcommand",
      "verificationCommand": "grep -q 'Skills' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "12.1.2",
      "phase": 12,
      "title": "Create commands/skills.rs module",
      "type": "RUST",
      "description": "Create the skills command module file",
      "verificationCommand": "test -f apps/cli/src/commands/skills.rs && grep -q 'pub async fn' apps/cli/src/commands/skills.rs",
      "passes": false,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "12.1.3",
      "phase": 12,
      "title": "Export skills module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod skills;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod skills' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["12.1.2"]
    },
    {
      "id": "12.1.4",
      "phase": 12,
      "title": "Define Skill struct in types.rs",
      "type": "RUST",
      "description": "Add Skill struct with id, name, description, enabled fields",
      "verificationCommand": "grep -q 'pub struct Skill' apps/cli/src/types.rs && grep -q 'enabled' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "12.1.5",
      "phase": 12,
      "title": "Implement list_skills() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/skills",
      "verificationCommand": "grep -q 'pub async fn list_skills' apps/cli/src/commands/skills.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["12.1.3", "12.1.4", "0.2.1"]
    },
    {
      "id": "12.1.6",
      "phase": 12,
      "title": "Wire up 'skills list' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Skills::List that calls list_skills()",
      "verificationCommand": "grep -qE 'Skills.*List|SkillsCommand.*List' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["12.1.1", "12.1.5"]
    },
    {
      "id": "12.2.1",
      "phase": 12,
      "title": "Test: skills commands build successfully",
      "type": "TEST",
      "description": "Verify Phase 12 code compiles and passes clippy",
      "verificationCommand": "cargo build --manifest-path apps/cli/Cargo.toml && cargo clippy --manifest-path apps/cli/Cargo.toml -- -D warnings",
      "passes": false,
      "dependencies": ["12.1.6"]
    },
    {
      "id": "13.1.1",
      "phase": 13,
      "title": "Add Health subcommand enum variant",
      "type": "RUST",
      "description": "Add Health variant to Commands enum for diagnostics",
      "verificationCommand": "grep -q 'Health' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.4.1"]
    },
    {
      "id": "13.1.2",
      "phase": 13,
      "title": "Create commands/health.rs module",
      "type": "RUST",
      "description": "Create the health command module file for diagnostics",
      "verificationCommand": "test -f apps/cli/src/commands/health.rs && grep -q 'pub async fn' apps/cli/src/commands/health.rs",
      "passes": false,
      "dependencies": ["0.1.2"]
    },
    {
      "id": "13.1.3",
      "phase": 13,
      "title": "Export health module from commands/mod.rs",
      "type": "RUST",
      "description": "Add 'pub mod health;' to commands/mod.rs",
      "verificationCommand": "grep -q 'pub mod health' apps/cli/src/commands/mod.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["13.1.2"]
    },
    {
      "id": "13.1.4",
      "phase": 13,
      "title": "Define HealthStatus struct in types.rs",
      "type": "RUST",
      "description": "Add HealthStatus struct for diagnostic info",
      "verificationCommand": "grep -q 'pub struct HealthStatus' apps/cli/src/types.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["0.1.4"]
    },
    {
      "id": "13.1.5",
      "phase": 13,
      "title": "Implement check_health() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/health with detailed diagnostics",
      "verificationCommand": "grep -q 'pub async fn check_health' apps/cli/src/commands/health.rs && grep -q '/health' apps/cli/src/commands/health.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["13.1.3", "13.1.4", "0.2.1"]
    },
    {
      "id": "13.1.6",
      "phase": 13,
      "title": "Wire up 'health' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Commands::Health that calls check_health()",
      "verificationCommand": "grep -qE 'Health.*=>|Commands::Health' apps/cli/src/main.rs && grep -q 'check_health' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["13.1.1", "13.1.5"]
    },
    {
      "id": "13.2.1",
      "phase": 13,
      "title": "Implement get_errors() function",
      "type": "RUST",
      "description": "Implement function to call GET /v1/errors for recent error log",
      "verificationCommand": "grep -q 'pub async fn get_errors' apps/cli/src/commands/health.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["13.1.3", "0.2.1"]
    },
    {
      "id": "13.2.2",
      "phase": 13,
      "title": "Wire up 'health errors' command in main.rs",
      "type": "RUST",
      "description": "Add match arm for Health::Errors that calls get_errors()",
      "verificationCommand": "grep -qE 'Errors|health.*errors' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["13.1.1", "13.2.1"]
    },
    {
      "id": "13.3.1",
      "phase": 13,
      "title": "Test: health commands build successfully",
      "type": "TEST",
      "description": "Verify Phase 13 code compiles and passes clippy",
      "verificationCommand": "cargo build --manifest-path apps/cli/Cargo.toml && cargo clippy --manifest-path apps/cli/Cargo.toml -- -D warnings",
      "passes": false,
      "dependencies": ["13.1.6", "13.2.2"]
    },
    {
      "id": "9.1.1",
      "phase": 9,
      "title": "Final integration test: all commands defined",
      "type": "TEST",
      "description": "Verify all subcommands are properly wired up",
      "verificationCommand": "cargo build --manifest-path apps/cli/Cargo.toml --release && apps/cli/target/release/speakmcp --help | grep -q servers && apps/cli/target/release/speakmcp --help | grep -q profiles && apps/cli/target/release/speakmcp --help | grep -q memories && apps/cli/target/release/speakmcp --help | grep -q health",
      "passes": false,
      "dependencies": ["1.3.1", "2.4.1", "3.3.1", "4.6.1", "5.3.1", "6.2.1", "7.3.1", "8.2.1", "10.3.1", "11.3.1", "12.2.1", "13.3.1"]
    },
    {
      "id": "9.1.2",
      "phase": 9,
      "title": "Final clippy: zero warnings",
      "type": "TEST",
      "description": "Ensure no clippy warnings in the entire crate",
      "verificationCommand": "cargo clippy --manifest-path apps/cli/Cargo.toml -- -D warnings",
      "passes": false,
      "dependencies": ["9.1.1"]
    },
    {
      "id": "9.1.3",
      "phase": 9,
      "title": "Final test: cargo test passes",
      "type": "TEST",
      "description": "Ensure all tests pass",
      "verificationCommand": "cargo test --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["9.1.2"]
    },
    {
      "id": "14.1.1",
      "phase": 14,
      "title": "Add 'config import-from-desktop' command",
      "type": "RUST",
      "description": "Add a command that reads the Electron desktop app's config.json from ~/Library/Application Support/app.speakmcp/config.json (macOS), %APPDATA%/app.speakmcp/config.json (Windows), or ~/.config/app.speakmcp/config.json (Linux) and imports the remoteServerApiKey and remoteServerPort into the CLI's cli.toml. This allows the CLI to reuse the desktop app's authentication.",
      "verificationCommand": "grep -q 'import_from_desktop\\|import-from-desktop' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["9.1.3"]
    },
    {
      "id": "14.1.2",
      "phase": 14,
      "title": "Implement desktop config reading logic",
      "type": "RUST",
      "description": "In config.rs, add a function to locate and read the Electron app's config.json. Parse the JSON to extract remoteServerApiKey and remoteServerPort (default 3210). Handle platform-specific paths: macOS uses ~/Library/Application Support/, Windows uses %APPDATA%, Linux uses ~/.config/.",
      "verificationCommand": "grep -q 'app.speakmcp' apps/cli/src/config.rs && grep -qE 'remoteServerApiKey|remote_server_api_key' apps/cli/src/config.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["14.1.1"]
    },
    {
      "id": "14.1.3",
      "phase": 14,
      "title": "Wire up config import command in main.rs",
      "type": "RUST",
      "description": "Wire up the 'config import-from-desktop' subcommand to call the import function, update cli.toml with the imported values, and print success/error messages.",
      "verificationCommand": "grep -qE 'ImportFromDesktop|import_from_desktop' apps/cli/src/main.rs && cargo check --manifest-path apps/cli/Cargo.toml",
      "passes": false,
      "dependencies": ["14.1.2"]
    },
    {
      "id": "14.2.1",
      "phase": 14,
      "title": "E2E Test: Import config from desktop and verify CLI config",
      "type": "TEST",
      "description": "Run 'speakmcp config import-from-desktop' to import the desktop app's API key. Then run 'speakmcp config show' and verify the api_key and server_url are set correctly. This requires the desktop app to have been run at least once.",
      "verificationCommand": "cargo run --manifest-path apps/cli/Cargo.toml -- config import-from-desktop && cargo run --manifest-path apps/cli/Cargo.toml -- config show | grep -q 'server_url'",
      "passes": false,
      "dependencies": ["14.1.3"]
    },
    {
      "id": "14.2.2",
      "phase": 14,
      "title": "E2E Test: Status command connects to desktop app",
      "type": "TEST",
      "description": "Run 'speakmcp status' and verify it can connect to the Electron app's remote server. This tests the imported credentials work. Expect either a successful connection response or a clear error if the server is not running.",
      "verificationCommand": "cargo run --manifest-path apps/cli/Cargo.toml -- status 2>&1 | grep -qE 'connected|running|Connection refused|error'",
      "passes": false,
      "dependencies": ["14.2.1"]
    },
    {
      "id": "14.2.3",
      "phase": 14,
      "title": "E2E Test: Servers list command works",
      "type": "TEST",
      "description": "Run 'speakmcp servers list' and verify it returns a valid response (either a list of servers or an empty list). This tests the GET /v1/mcp/servers endpoint integration.",
      "verificationCommand": "cargo run --manifest-path apps/cli/Cargo.toml -- servers list 2>&1 | grep -qE 'NAME|STATUS|TOOLS|No servers|error|Unauthorized'",
      "passes": false,
      "dependencies": ["14.2.2"]
    },
    {
      "id": "14.2.4",
      "phase": 14,
      "title": "E2E Test: Profiles list command works",
      "type": "TEST",
      "description": "Run 'speakmcp profiles list' and verify it returns profile information. This tests the GET /v1/profiles endpoint integration.",
      "verificationCommand": "cargo run --manifest-path apps/cli/Cargo.toml -- profiles list 2>&1 | grep -qE 'NAME|default|error|Unauthorized'",
      "passes": false,
      "dependencies": ["14.2.3"]
    },
    {
      "id": "14.2.5",
      "phase": 14,
      "title": "E2E Test: Tools list command works",
      "type": "TEST",
      "description": "Run 'speakmcp tools list' and verify it returns tool information or empty list. This tests the POST /mcp/tools/list endpoint integration.",
      "verificationCommand": "cargo run --manifest-path apps/cli/Cargo.toml -- tools list 2>&1 | grep -qE 'TOOL|NAME|No tools|error|Unauthorized'",
      "passes": false,
      "dependencies": ["14.2.4"]
    },
    {
      "id": "14.2.6",
      "phase": 14,
      "title": "E2E Test: Send message command works",
      "type": "TEST",
      "description": "Run 'speakmcp send \"hello\"' and verify the LLM responds. This is the core chat functionality test. Expect a response or a clear error about API key configuration.",
      "verificationCommand": "timeout 30 cargo run --manifest-path apps/cli/Cargo.toml -- send 'hello' 2>&1 | grep -qE 'Hello|Hi|error|API key|response'",
      "passes": false,
      "dependencies": ["14.2.5"]
    },
    {
      "id": "14.3.1",
      "phase": 14,
      "title": "E2E Test: JSON output mode works",
      "type": "TEST",
      "description": "Run 'speakmcp --json servers list' and verify the output is valid JSON. This tests the --json global flag.",
      "verificationCommand": "cargo run --manifest-path apps/cli/Cargo.toml -- --json servers list 2>&1 | grep -qE '^\\[|^{|error'",
      "passes": false,
      "dependencies": ["14.2.3"]
    },
    {
      "id": "14.3.2",
      "phase": 14,
      "title": "E2E Test: Help commands work",
      "type": "TEST",
      "description": "Verify --help works for main command and subcommands. This tests clap is properly configured.",
      "verificationCommand": "cargo run --manifest-path apps/cli/Cargo.toml -- --help | grep -q 'Usage' && cargo run --manifest-path apps/cli/Cargo.toml -- servers --help | grep -q 'list'",
      "passes": false,
      "dependencies": ["9.1.3"]
    },
    {
      "id": "14.4.1",
      "phase": 14,
      "title": "Final E2E: All critical paths work",
      "type": "TEST",
      "description": "Meta-test confirming all E2E tests pass. This is the final verification that the CLI can communicate with the Electron desktop app using shared credentials.",
      "verificationCommand": "echo 'All E2E tests passed'",
      "passes": false,
      "dependencies": ["14.2.6", "14.3.1", "14.3.2"]
    }
  ]
}
